var Brickrouge={};!function(b){var g=0;b.uidOf=function(e){return e.uniqueNumber||(e.uniqueNumber=++g)};b.camelCase=function(e){return String(e).replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()})};b.Dataset={from:function(e){var h={};e=e.attributes;for(var d=0,f=e.length,c;d<f;d++)c=e[d],c.name.match(/^data-/)&&(h[b.camelCase(c.name.substring(5))]=c.value);return h}}}(Brickrouge);
!function(b){function g(){}g.prototype={getObservers:function(e){var b;"$brickrouge:observers"in this||(this["$brickrouge:observers"]=[]);b=this["$brickrouge:observers"];if(!e)return b;e in b||(b[e]=[]);return b[e]},observe:function(b,h){var d=this.getObservers(b);if(-1!==d.indexOf(h))throw Error("Observer already attached for type `"+b+"`");d.push(h)},unobserve:function(b){var h=this.getObservers(null),d,f,c;for(d in Object.keys(h))f=h[d],c=f.indexOf(b),-1!==c&&f.splice(c,1)},notify:function(b,h){var d=
this.getObservers(b),f,c;if(d.length)for(f=0,c=d.length;f<c;f++)try{d[f].apply(null,h)}catch(g){console.error(g)}}};b.Subject=g;b.observe=g.prototype.observe;b.unobserve=g.prototype.unobserve;b.notify=g.prototype.notify;b.getObservers=g.prototype.getObservers}(Brickrouge);
!function(b){function g(a){if(!(a in n))throw Error("There is no widget factory for type `"+a+"`");return n[a]}function e(a){return"object"==typeof a&&"getAttribute"in a&&!!a.getAttribute("brickrouge-is")}function h(a){return b.uidOf(a)in l}function d(a){console.info("invalidate:",a);a.setAttribute("brickrouge-invalid-is",a.getAttribute("brickrouge-is"));a.removeAttribute("brickrouge-is")}function f(a){var e=b.uidOf(a);if(e in l)return l[e];var f=a.getAttribute("brickrouge-is"),c=null;if(!f)throw d(a),
Error("The `brickrouge-is` attribute is not defined or empty.");try{var h=g(f),k;k=a.hasAttribute("brickrouge-options")?JSON.parse(a.getAttribute("brickrouge-options")):b.Dataset.from(a);c=h(a,k)}catch(q){console.error(q)}if(!c)throw d(a),Error("The widget factory `"+f+"` failed to build the widget.");a.setAttribute("brickrouge-built","");try{b.notify("widget",[c])}catch(q){console.error(q)}return l[e]=c}function c(a){var c,d=0,g,p=[];a=a||document.body;if(-1===m.indexOf(a)){m.push(a);if(e(a)&&!h(a))try{p.push(f(a))}catch(k){console.error(k)}c=
a.querySelectorAll("[brickrouge-is]:not([brickrouge-built])");for(g=c.length;d<g;d++)try{p.push(f(c[d]))}catch(k){console.error(k)}m.splice(m.indexOf(a),1);b.notify("update",[a,c,p])}}function t(){function a(a){(new a(function(a){a.forEach(function(a){var b,c,d=a.addedNodes;a=0;for(b=d.length;a<b;a++)c=d[a],e(c)&&f(c)})})).observe(document.body,{childList:!0})}function b(){var a=document.body.innerHTML;setInterval(function(){a!=document.body.innerHTML&&(a=document.body.innerHTML,c(document.body))},
1E3)}var d=MutationObserver||WebkitMutationObserver;d?a(d):b()}function r(a,b){n[a]=b}var n=[],l=[],m=[];b.isWidget=e;b.isBuilt=h;b.register=r;b.registered=g;b.from=f;b.run=function(){t();c(document.body)};b.Widget={IS_ATTRIBUTE:"brickrouge-is",OPTIONS_ATTRIBUTE:"brickrouge-options",SELECTOR:"[brickrouge-is]",from:f,register:r,registered:g}}(Brickrouge);

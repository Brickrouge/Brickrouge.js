var Brickrouge={};!function(a){var b=0;a.uidOf=function(d){return d.uniqueNumber||(d.uniqueNumber=++b)};a.camelCase=function(d){return String(d).replace(/-\D/g,function(d){return d.charAt(1).toUpperCase()})};a.Dataset={from:function(d){var h={};d=d.attributes;for(var e=0,f=d.length,g;e<f;e++)g=d[e],g.name.match(/^data-/)&&(h[a.camelCase(g.name.substring(5))]=g.value);return h}}}(Brickrouge);
!function(a){function b(){}b.prototype={getObservers:function(d){var a;"$brickrouge:observers"in this||(this["$brickrouge:observers"]=[]);a=this["$brickrouge:observers"];if(!d)return a;d in a||(a[d]=[]);return a[d]},observe:function(a,h){var e=this.getObservers(a);if(-1!==e.indexOf(h))throw Error("Observer already attached for type `"+a+"`");e.push(h)},unobserve:function(a){var h=this.getObservers(null),e,f,g;for(e in Object.keys(h))f=h[e],g=f.indexOf(a),-1!==g&&f.splice(g,1)},notify:function(a,h){var e=
this.getObservers(a),f,g;if(e.length)for(f=0,g=e.length;f<g;f++)try{e[f].apply(null,h)}catch(b){console.error(b)}}};a.Subject=b;a.observe=b.prototype.observe;a.unobserve=b.prototype.unobserve;a.notify=b.prototype.notify;a.getObservers=b.prototype.getObservers}(Brickrouge);
!function(a){function b(a){if(!(a in n))throw Error("There is no widget factory for type `"+a+"`");return n[a]}function d(a){return"object"==typeof a&&"getAttribute"in a&&!!a.getAttribute("brickrouge-is")}function h(c){return a.uidOf(c)in l}function e(c){var d=a.uidOf(c);if(d in l)return l[d];var e=c.getAttribute("brickrouge-is"),k;if(!e)throw Error("The `brickrouge-is` attribute is not defined or empty.");k=b(e);var h;h=c.hasAttribute("brickrouge-options")?JSON.parse(c.getAttribute("brickrouge-options")):
a.Dataset.from(c);k=k(c,h);if(!k)throw Error("The widget factory `"+e+"` failed to instantiate widget.");c.setAttribute("brickrouge-built","");try{a.notify("widget",[k])}catch(f){console.error(f)}return l[d]=k}function f(c){var f,b=0,k,g=[];c=c||document.body;if(-1===m.indexOf(c)){m.push(c);if(d(c)&&!h(c))try{g.push(e(c))}catch(p){console.log(p)}f=c.querySelectorAll("[brickrouge-is]:not([brickrouge-built])");for(k=f.length;b<k;b++)try{g.push(e(f[b]))}catch(p){console.log(p)}m.splice(m.indexOf(c),
1);a.notify("update",[c,f,g])}}function g(){function a(c){(new c(function(a){a.forEach(function(a){var c,b,f=a.addedNodes;a=0;for(c=f.length;a<c;a++)b=f[a],d(b)&&e(b)})})).observe(document.body,{childList:!0})}function b(){var a=document.body.innerHTML;setInterval(function(){a!=document.body.innerHTML&&(a=document.body.innerHTML,f(document.body))},1E3)}var g=MutationObserver||WebkitMutationObserver;g?a(g):b()}function q(a,b){n[a]=b}var n=[],l=[],m=[];a.isWidget=d;a.isBuilt=h;a.register=q;a.registered=
b;a.from=e;a.run=function(){g();f(document.body)};a.Widget={IS_ATTRIBUTE:"brickrouge-is",OPTIONS_ATTRIBUTE:"brickrouge-options",SELECTOR:"[brickrouge-is]",from:e,register:q,registered:b}}(Brickrouge);

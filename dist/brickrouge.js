(function(e){function c(b){if(d[b])return d[b].exports;var a=d[b]={exports:{},id:b,loaded:!1};e[b].call(a.exports,a,a.exports,c);a.loaded=!0;return a.exports}var d={};c.m=e;c.c=d;c.p="";return c(0)})([function(e,c,d){var b,a;!(b=[d(4),d(2),d(3),d(5),d(6)],a=function(g){return window.Brickrouge=g}.apply(c,b),void 0!==a&&(e.exports=a))},,function(e,c,d){var b,a;!(b=[d(4)],a=function(g){var a=0;g.uidOf=function(f){return f.uniqueNumber||(f.uniqueNumber=++a)};g.camelCase=function(f){return String(f).replace(/-\D/g,
function(f){return f.charAt(1).toUpperCase()})};g.Dataset={from:function(f){var a={};f=f.attributes;for(var b=0,d=f.length,c;b<d;b++)c=f[b],c.name.match(/^data-/)&&(a[g.camelCase(c.name.substring(5))]=c.value);return a}}}.apply(c,b),void 0!==a&&(e.exports=a))},function(e,c,d){var b,a;!(b=[d(4)],a=function(a){function b(){}b.prototype={getObservers:function(a){var b;"$brickrouge:observers"in this||(this["$brickrouge:observers"]=[]);b=this["$brickrouge:observers"];if(!a)return b;a in b||(b[a]=[]);return b[a]},
observe:function(b,a){var c=this.getObservers(b);if(-1!==c.indexOf(a))throw Error("Observer already attached for type `"+b+"`");c.push(a)},unobserve:function(b){var a=this.getObservers(null),c,d,g;for(c in Object.keys(a))d=a[c],g=d.indexOf(b),-1!==g&&d.splice(g,1)},notify:function(a,b){var c=this.getObservers(a),d,g;if(c.length)for(d=0,g=c.length;d<g;d++)try{c[d].apply(null,b)}catch(e){console.error(e)}}};a.Subject=b;a.observe=b.prototype.observe;a.unobserve=b.prototype.unobserve;a.notify=b.prototype.notify;
a.getObservers=b.prototype.getObservers}.apply(c,b),void 0!==a&&(e.exports=a))},function(e,c,d){var b;!(b=function(){return{}}.call(c,d,c,e),void 0!==b&&(e.exports=b))},function(e,c,d){var b,a;!(b=[d(4)],a=function(a){function b(a){if(!(a in r))throw Error("There is no widget factory for type `"+a+"`");return r[a]}function c(a){return"object"==typeof a&&"getAttribute"in a&&!!a.getAttribute("brickrouge-is")}function d(b){return a.uidOf(b)in n}function e(a){a.setAttribute("brickrouge-invalid-is",a.getAttribute("brickrouge-is"));
a.removeAttribute("brickrouge-is")}function m(c){var d=a.uidOf(c);if(d in n)return n[d];var f=c.getAttribute("brickrouge-is"),h=null;if(!f)throw e(c),Error("The `brickrouge-is` attribute is not defined or empty.");try{var l=b(f),k;k=c.hasAttribute("brickrouge-options")?JSON.parse(c.getAttribute("brickrouge-options")):a.Dataset.from(c);h=l(c,k)}catch(u){console.error(u)}if(!h)throw e(c),Error("The widget factory `"+f+"` failed to build the widget.");c.setAttribute("brickrouge-built","");try{a.notify("widget",
[h])}catch(u){console.error(u)}return n[d]=h}function q(b){var e,t=0,h,l=[];b=b||document.body;if(-1===p.indexOf(b)){p.push(b);if(c(b)&&!d(b))try{l.push(m(b))}catch(k){console.error(k)}e=b.querySelectorAll("[brickrouge-is]:not([brickrouge-built])");for(h=e.length;t<h;t++)try{l.push(m(e[t]))}catch(k){console.error(k)}p.splice(p.indexOf(b),1);a.notify("update",[b,e,l])}}function w(){function a(b){(new b(function(a){var b=[];a.forEach(function(a){Array.prototype.forEach.call(a.addedNodes,function(a){a instanceof
Element&&-1===b.indexOf(a)&&b.push(a)})});b.length&&b.forEach(q)})).observe(document.body,{childList:!0,subtree:!0})}function b(){var a=document.body.innerHTML;setInterval(function(){a!=document.body.innerHTML&&(a=document.body.innerHTML,q(document.body))},1E3)}var c=MutationObserver||WebkitMutationObserver;c?a(c):b()}function v(a,b){r[a]=b}var r=[],n=[],p=[];a.isWidget=c;a.isBuilt=d;a.register=v;a.registered=b;a.from=m;a.run=function(){w();q(document.body);a.notify("running")};return a.Widget={IS_ATTRIBUTE:"brickrouge-is",
BUILT_ATTRIBUTE:"brickrouge-built",OPTIONS_ATTRIBUTE:"brickrouge-options",SELECTOR:"[brickrouge-is]",from:m,register:v,registered:b}}.apply(c,b),void 0!==a&&(e.exports=a))},function(e,c,d){var b,a;!(b=[d(4),d(5)],a=function(a,b){a.clone=function(a){var c=b.BUILT_ATTRIBUTE;a=a.cloneNode(!0);a.removeAttribute(c);Array.prototype.forEach.call(a.querySelectorAll("["+c+"]"),function(a){a.removeAttribute(c)});return a}}.apply(c,b),void 0!==a&&(e.exports=a))}]);
